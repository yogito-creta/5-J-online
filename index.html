<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>5/J SÄ±nÄ±f PortalÄ±</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html { scroll-behavior: smooth; }

body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color: #fff;
}

/* HEADER */
header {
  padding: 18px;
  text-align: center;
  font-size: 26px;
  font-weight: 800;
  letter-spacing: 1px;
  background: linear-gradient(135deg,#00c6ff,#0072ff);
  box-shadow: 0 4px 15px rgba(0,0,0,0.4);
}

/* GENEL */
.container {
  max-width: 700px;
  margin: auto;
  padding: 20px;
}

/* KART */
.card {
  background: rgba(255,255,255,0.12);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-radius: 18px;
  padding: 22px;
  margin-bottom: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.35);
  animation: fadeUp 0.4s ease;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}

/* SAAT */
#saat {
  font-size: 36px;
  font-weight: bold;
  text-align: center;
  text-shadow: 0 0 15px rgba(0,198,255,0.8);
}
#durum {
  font-size: 24px;
  text-align: center;
  margin-top: 6px;
  color: #00c6ff;
}
#sayac {
  margin-top: 8px;
  font-size: 18px;
  text-align: center;
  color: #7CFF7C;
}

/* BUTON */
button {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  border: none;
  border-radius: 14px;
  background: linear-gradient(135deg,#00c6ff,#0072ff);
  color: #fff;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s ease;
}

button:hover {
  transform: translateY(-2px) scale(1.01);
  box-shadow: 0 8px 20px rgba(0,198,255,0.4);
}
button:active { transform: scale(0.96); }

.back { background: #555; }
.hidden { display: none; }

/* LÄ°STE */
ul { list-style: none; padding: 0; }
li {
  padding: 8px;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  transition: 0.2s;
}
li:hover {
  background: rgba(255,255,255,0.05);
  padding-left: 6px;
}

/* GÃ–NDERÄ° LÄ°STESÄ° */
.gonderi-item {
  background: rgba(255,255,255,0.08);
  padding: 15px;
  border-radius: 12px;
  margin-bottom: 10px;
  border-left: 4px solid #00c6ff;
}

/* CHAT AREA (Sadece Admin GiriÅŸi Ä°Ã§in) */
.chat-area {
  max-height: 200px;
  overflow-y: auto;
  background: rgba(0,0,0,0.35);
  padding: 15px;
  border-radius: 14px;
  margin-bottom: 10px;
}
input#adminInput {
  width: calc(100% - 24px);
  padding: 12px;
  border-radius: 12px;
  border: none;
  margin-bottom: 5px;
}
</style>
</head>

<body>

<header>5/J SÄ±nÄ±f PortalÄ±</header>

<div class="container">

  <div class="card" id="timer-card">
    <div id="saat"></div>
    <div id="durum"></div>
    <div id="sayac"></div>
  </div>

  <div id="home" class="card">
    <button onclick="ac('ders')">ğŸ“š Ders ProgramÄ±</button>
    <button onclick="ac('duyuru')">ğŸ“¢ Duyurular</button>
    <button onclick="ac('odev')">ğŸ““ Ã–devler</button>
    <button onclick="ac('ogretmen')">ğŸ‘¨â€ğŸ« Ã–ÄŸretmenler</button>
    <button onclick="ac('ogrencÄ±ler')">ğŸ‘¨ğŸ»â€ğŸ“ Ã–ÄŸrenciler</button>
    <button onclick="ac('sÄ±nav')">ğŸ“‘ SÄ±nav Tarihleri</button>
    <button onclick="ac('gonderiler')">ğŸ“ GÃ¶nderiler</button>
    <button onclick="ac('admin-giris')">ğŸ” YÃ¶netim GiriÅŸi</button>
  </div>

  <div id="ders" class="card hidden">
    <h3>ğŸ“… HaftalÄ±k Program</h3>
    <h4>Pazartesi</h4><ul><li>TÃ¼rkÃ§e(2), Ä°ngilizce(2), Sosyal(1), TÃ¼rkÃ§e(2), Matematik(1)</li></ul>
    <h4>SalÄ±</h4><ul><li>Ä°ngilizce(4), Matematik(2), Almanca(2)</li></ul>
    <h4>Ã‡arÅŸamba</h4><ul><li>Matematik(2), Beden(2), Ä°ngilizce(4)</li></ul>
    <h4>PerÅŸembe</h4><ul><li>Fen(2), Peygamberimizin HayatÄ±(2), TÃ¼rkÃ§e(2), Ä°ngilizce(2)</li></ul>
    <h4>Cuma</h4><ul><li>Ä°ngilizce(2), Din KÃ¼ltÃ¼rÃ¼(2), Fen(2), Sosyal(2)</li></ul>
    <button class="back" onclick="geri()">â¬… Geri</button>
  </div>

  <div id="duyuru" class="card hidden">
    <h3>ğŸ“¢ Duyurular</h3>
    <ul>
      <li>Okula bir hafta kÄ±rmÄ±zÄ± beyaz giyiniyoruz ğŸ‡¹ğŸ‡·</li>
    </ul>
    <button class="back" onclick="geri()">â¬… Geri</button>
  </div>

  <div id="odev" class="card hidden">
    <h3>ğŸ““ Ã–devler</h3>
    <ul>
      <li><b>Matematik:</b> FasikÃ¼l 20. sayfaya kadar.</li>
    </ul>
    <button class="back" onclick="geri()">â¬… Geri</button>
  </div>

  <div id="ogretmen" class="card hidden">
    <h3>ğŸ‘¨â€ğŸ« Ã–ÄŸretmenlerimiz</h3>
    <ul>
      <li><b>Remzi Emre Duman:</b> SÄ±nÄ±f ve TÃ¼rkÃ§e</li>
      <li><b>AyÅŸe TÃ¼rk:</b> Sosyal Bilgiler</li>
      <li><b>AytaÃ§ Atar:</b> Matematik</li>
      <li><b>Birsen Alkan:</b> Fen Bilimleri</li>
      <li><b>Mustafa Ã‡oban:</b> Ä°ngilizce</li>
      <li><b>Serkan Yaylaz:</b> Beden EÄŸitimi</li>
      <li><b>YaÅŸar Ã‡oban:</b> Din KÃ¼ltÃ¼rÃ¼</li>
      <li><b>GÃ¼lnur Kaya:</b> Almanca</li>
    </ul>
    <button class="back" onclick="geri()">â¬… Geri</button>
  </div>

  <div id="ogrencÄ±ler" class="card hidden">
    <h3>ğŸ‘¨ğŸ»â€ğŸ“ Ã–ÄŸrenciler</h3>
    <ul style="max-height: 300px; overflow-y: auto;">
      <li><b>YiÄŸit | Kurucu</b></li>
      <li><b>SÃ¼leyman | Admin</b></li>
      <li>ADA MÄ°RA KARADANA</li>
      <li>ALÄ° MERT TEKÄ°N</li>
      <li>ARÄ°FE SENA ÅAMA</li>
      <li>BARIÅ BODUREL</li>
      <li>BÃœÅRA AÃ‡IKBAÅ</li>
      <li>CEMÄ°LE BACAK</li>
      <li>DERÄ°N SULAR</li>
      <li>DURU ÅENLÄ°CE</li>
      <li>ELA BAÅTÃœRK</li>
      <li>ELÄ°F GÃœLTEKÄ°N</li>
      <li>ELÄ°F SARE IÅIK</li>
      <li>EMÄ°R ENES KARADEMÄ°R</li>
      <li>ESLEM SERRA Ã‡ELÄ°K</li>
      <li>EYLÃœL AURORA OLKAÃ‡</li>
      <li>FATMANUR AKSOY</li>
      <li>HALÄ°L EMRE ERTEN</li>
      <li>HELÄ°N KAYHAN</li>
      <li>Ä°LKER Ã‡OKAL</li>
      <li>MURAT YUSUF YAMAN</li>
      <li>MUSTAFA DEMÄ°R Ä°ÅMAR</li>
      <li>NESLÄ°ÅAH KOCA</li>
      <li>TUANA Ã–ZDEMÄ°R</li>
      <li>ULVÄ° ERDEM KÃ–LGEKAYA</li>
      <li>YAÄMOR SEZGÄ°N</li>
    </ul>
    <button class="back" onclick="geri()">â¬… Geri</button>
  </div>

  <div id="sÄ±nav" class="card hidden">
    <h3>ğŸ“‘ SÄ±nav Tarihleri</h3>
    <ul>
      <li><b>Sosyal Bilgiler</b> â€“ 01 Nisan 2026</li>
      <li><b>YabancÄ± Dil</b> â€“ 02 Nisan 2026</li>
      <li><b>Fen Bilimleri</b> â€“ 03 Nisan 2026</li>
    </ul>
    <button class="back" onclick="geri()">â¬… Geri</button>
  </div>

  <div id="gonderiler" class="card hidden">
    <h3>ğŸ“ SÄ±nÄ±f Panosu</h3>
    <textarea id="gonderiText" placeholder="MesajÄ±nÄ± yaz..." style="width:100%;height:80px;border-radius:12px;padding:10px;border:none;background:rgba(0,0,0,0.2);color:white;"></textarea>
    <button onclick="gonderiPaylas()" style="background:#e67e22;">Onaya GÃ¶nder</button>
    <div id="onayliGonderiListesi" style="margin-top:20px;"></div>
    <button class="back" onclick="geri()">â¬… Geri</button>
  </div>

  <div id="admin-giris" class="card hidden">
    <h3>ğŸ” YÃ¶netim EriÅŸimi</h3>
    <p>Admin paneline eriÅŸmek iÃ§in gizli kodu girin:</p>
    <div id="admin-chat" class="chat-area">
      <div style="color:#00c6ff;">Sistem HazÄ±r...</div>
    </div>
    <input id="adminInput" type="text" placeholder="Kod..." onkeypress="if(event.key==='Enter') adminKontrol()">
    <button onclick="adminKontrol()" style="background: #2ecc71;">DoÄŸrula</button>
    <button class="back" onclick="geri()">â¬… Geri</button>
  </div>

</div>

<script>
/* SAYAÃ‡ VE SAAT */
const zamanlar = [
  { bas: 540, bit: 580, ad: "Derste" },
  { bas: 580, bit: 588, ad: "TeneffÃ¼ste" },
  { bas: 590, bit: 630, ad: "Derste" },
  { bas: 630, bit: 643, ad: "Uzun TeneffÃ¼s" },
  { bas: 645, bit: 685, ad: "Derste" },
  { bas: 685, bit: 693, ad: "TeneffÃ¼ste" },
  { bas: 695, bit: 735, ad: "Derste" },
  { bas: 735, bit: 743, ad: "TeneffÃ¼ste" },
  { bas: 745, bit: 785, ad: "Derste" },
  { bas: 785, bit: 830, ad: "Uzun TeneffÃ¼s" },
  { bas: 830, bit: 870, ad: "Derste" },
  { bas: 870, bit: 878, ad: "TeneffÃ¼ste" },
  { bas: 880, bit: 920, ad: "Derste" },
  { bas: 920, bit: 928, ad: "TeneffÃ¼ste" },
  { bas: 930, bit: 970, ad: "Derste" }
];

function guncelle() {
  const n = new Date();
  const h = n.getHours();
  const m = n.getMinutes();
  const s = n.getSeconds();
  const dakika = h * 60 + m;
  const saniyeToplam = dakika * 60 + s;

  document.getElementById("saat").innerText = `${String(h).padStart(2,"0")}:${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;

  let bulundu = false;
  for (let z of zamanlar) {
    if (dakika >= z.bas && dakika < z.bit) {
      document.getElementById("durum").innerText = z.ad;
      let hedef = (z.ad === "Derste") ? z.bit * 60 : (zamanlar[zamanlar.indexOf(z)+1]?.bas * 60 || z.bit * 60);
      const kalan = hedef - saniyeToplam;
      document.getElementById("sayac").innerText = `${Math.floor(kalan/60)} dk ${kalan%60} sn kaldÄ±`;
      bulundu = true; break;
    }
  }
  if(!bulundu) {
    document.getElementById("durum").innerText = "Ders DÄ±ÅŸÄ±";
    document.getElementById("sayac").innerText = "Okul BaÅŸlamadÄ±";
  }
}
setInterval(guncelle, 1000); guncelle();

/* NAVÄ°GASYON */
function ac(id) {
  document.querySelectorAll(".card").forEach(c => { if(c.id !== 'timer-card') c.classList.add("hidden"); });
  document.getElementById(id).classList.remove("hidden");
  if(id === 'gonderiler') gonderileriYukle();
}

function geri() {
  document.querySelectorAll(".card").forEach(c => c.classList.add("hidden"));
  document.getElementById("home").classList.remove("hidden");
  document.getElementById('timer-card').classList.remove('hidden');
}

/* GÃ–NDERÄ°LER */
async function gonderiPaylas() {
  const text = document.getElementById("gonderiText").value.trim();
  if(!text) return;
  await fetch('/api/ekle', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({ metin: text }) });
  alert("Onaya iletildi!"); document.getElementById("gonderiText").value = "";
}

async function gonderileriYukle() {
  const res = await fetch('/api/onayli-liste');
  const veriler = await res.json();
  document.getElementById("onayliGonderiListesi").innerHTML = veriler.map(g => `<div class="gonderi-item">${g.metin}</div>`).reverse().join('');
}

/* GÄ°ZLÄ° ADMÄ°N GÄ°RÄ°ÅÄ° */
function adminKontrol() {
  const val = document.getElementById("adminInput").value;
  if(val === "/admin112233") {
    document.getElementById("admin-chat").innerHTML = "DoÄŸrulanÄ±yor...";
    setTimeout(() => { window.location.href = "/gizli-admin-yonetim"; }, 1000);
  } else {
    alert("YanlÄ±ÅŸ Kod!");
  }
}
</script>

</body>
</html>
